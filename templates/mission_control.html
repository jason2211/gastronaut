{% extends 'base.html' %}

<title>
  {% block title %}Mission Control{% endblock %}
</title>

<div>
  {% block head %}
  <meta
    name="description"
    content="Missions control for Gastronaut missions."
  />
  <meta
    name="google-site-verification"
    content="YPEc32npJcPQVaehmJQNayHLdC8eXBWeOUzEuHGQyts"
  />
  <link rel="stylesheet" href="../static/css/index.css" />
  <link rel="stylesheet" href="../static/css/mission_control.css" />
  <!-- <script defer src="../static/js/geolocate.js"></script> -->
  <!-- <script src="../static/js/modernizer.js"></script> -->
  <script defer src="../static/js/cards.js"></script>
  <script defer src="../static/js/animations.js"></script>
  <script defer src="../static/js/api_functs.js"></script>
  <!-- <script defer src="../static/js/index.js"></script> -->

  <script defer src="../static/js/missionControl.js"></script>
  <script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
  <!-- <script
    defer
    type="text/javascript"
    src="https://cdn.rawgit.com/asvd/dragscroll/master/dragscroll.js"
  ></script> -->
  <link
    href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css"
    rel="stylesheet"
  />
  {% endblock %}
</div>

<main>
  {% block main %}
  <div id="map" style="position: absolute;">
    <script src="../static/js/map.js"></script>
    <script>
      mappyBoi = renderMiniMap([-85, 26.8], 2.5);
    </script>
  </div>
  <div class="container-fluid ssp" id="main-interface">
    <div class="row">
      <div class="col-12 col-sm-6 col-md-5 col-lg-4 col-xl-3 mb-5 info-col">
        <div class="bg-trans-b rounded px-2 py-1 mt-2 txt-white-k mb-1">
          <p for="mission-select" class="mb-1">
            <a
              class="txt-orange"
              data-toggle="collapse"
              href="#mission-select-form"
              role="button"
              aria-expanded="true"
              aria-controls="mission-select-form"
            >
              Mission Select
              <i class="fas fa-caret-down fa-xs text-dark ml-2"></i>
            </a>
            <span class="text-dark txt-smlr ml-3" id="likes-zone"></span>
            <span class="text-dark"></span>
          </p>

          <form
            name="mission-select-form"
            id="mission-select-form"
            class="collapse show"
          >
            <div class="form-group mb-1">
              <select
                name="mission-select"
                id="mission-select"
                class="custom-select custom-select-sm museo"
              >
                {% for mission in missions %}
                <option value="{{mission.id}}">{{mission.name}}</option>
                {% endfor %}
              </select>
            </div>
            <button
              class="form-control btn btn-sm btn-outline-primary ssp txt-whitesmoke"
            >
              <i class="fas fa-rocket fa-lg txt-orange brand-outline mr-1"></i>
              <b>Create New Mission</b>
              <i class="fas fa-rocket fa-lg txt-orange brand-outline ml-1"></i>
            </button>
          </form>
        </div>
        <div
          class="bg-trans-b rounded px-2 py-1 txt-white-k"
          id="mission-panel"
        ></div>
      </div>
    </div>
  </div>
  <!-- Modals! -->
  <div
    class="modal fade"
    id="deleteMissionModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="deleteMissionModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title txt-orange" id="deleteMissionModalLabel">
            Delete Mission
          </h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <form class="form-inline">
          <div class="modal-body">
            <p class="txt-white-k">
              Are you sure you want to delete this mission?
            </p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>

            <button type="submit" class="btn btn-danger">Delete</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div
    class="modal fade p-0"
    id="business-detail-modal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="businessDetailTitle"
    aria-hidden="true"
  ></div>
  {% endblock %}
</main>
