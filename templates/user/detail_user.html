{% extends 'base.html' %}

<head>
  {% block head %}
  <link rel="stylesheet" href="/static/css/detail_user.css" />
  {% endblock %}
</head>

<main>
  {% block main %}

  <div id="warbler-hero" class="flx-std">
    <img src="{{user.get_banner}}" alt="user banner image" height="100%" />
  </div>
  <div class="middle-gap"></div>
  <div class="row">
    <div class="container">
      <div class="row justify-content-end mb-5">
        <div class="col-12 col-md-3 avatar-col text-center">
          <div
            style="background: url('{{ user.get_avatar }}'); background-position: center;
              background-size: cover;
              background-repeat: no-repeat;"
            id="profile-avatar"
          ></div>
          <div class="">
            <h4
              id="sidebar-username"
              class="txt-orange brand-outline font-italic"
            >
              @{{ user.username }}
            </h4>
            <p class="txt-white-k">{{user.byline}}</p>
            {% if user.city or user.state or user.country %}
            <div class="user-location text-left d-inline-block">
              <div
                class="fa fa-map-marker fa-2x txt-green d-inline-block"
              ></div>
              <div class="location text-dark d-inline-block">
                {{user.city}}, {{user.state}}
              </div>
              <br />
              <div class="location text-dark">{{user.country}}</div>
            </div>
            {% endif %}
          </div>
        </div>
        <div class="col-12 col-md-9 text-right">
          <ul class="user-stats nav nav-pills">
            <li class="stat">
              <p class="small txt-white-k">Missions Created</p>
              <h4>
                <a href="/mission-control">{{ user.my_missions | length }}</a>
              </h4>
            </li>
            <li class="stat">
              <p class="small txt-white-k">Missions Total</p>
              <h4>
                <a href="/mission-control">{{ user.missions | length }}</a>
              </h4>
            </li>
            <li class="stat">
              <p class="small txt-white-k">Reports</p>
              <h4>
                <a href="#">{{ user.reports | length }}</a>
              </h4>
            </li>
            <li class="stat">
              <p class="small txt-white-k">Gastronaut Groups</p>
              <h4>
                <a href="#">0</a>
              </h4>
            </li>
            <li class="li-edit ml-0 ml-md-3 ml-lg-5 mb-2 mb-md-0">
              {% if g.user.id == user.id %}
              <a href="/user/edit" class="btn btn-outline-primary"
                >Edit Profile</a
              >
              {% endif %}
            </li>
          </ul>
          <div class="col col-lg-9">
            <section class="bio-section text-left mt-5 txt-white-k">
              {% if user.bio %} {% for p in user.bio.split('\n') %}
              <p>{{p}}</p>
              {% endfor %} {% endif %}
            </section>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal -->
  <div
    class="modal fade"
    id="bannerSettingsModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="bannerSettingsModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title txt-orange" id="bannerSettingsModalLabel">
            Adjust Banner Image
          </h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          settings...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
  {% endblock %}
</main>
